<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<body>
<div th:fragment="form-checkbox(propertyName, title, description)"
     class="flex items-center justify-between overflow-hidden"
>
    <span class="flex-grow flex flex-col">
        <span class="text-sm font-medium text-gray-900" th:id="|${propertyName}-label|"
              th:text="${title}">Notify via email</span>
        <span class="text-sm text-gray-500"
              th:id="|${propertyName}-description|"
              th:text="${description}">Get notified via email when something happens.</span>
    </span>
    <div x-data="{ open: $refs.hc.checked }"
         @click="open = !open"
         class="w-14 h-10 rounded-md overflow-hidden flex items-center justify-start cursor-pointer">
        <input type="checkbox" th:field="*{__${propertyName}__}"
               x-model="open"
               x-cloak
               x-ref="hc"
               class="hidden">
        <div class="flex flex-none justify-start select-none">
            <div class="w-14 h-10 flex justify-center items-center bg-blue-500 text-white hover:bg-blue-600
                        transition-all ease-in-out duration-300
                        shadow-inner shadow-blue-700"
                 th:classappend="*{__${propertyName}__}?'':'-translate-x-full'"
                 :class="{'-translate-x-full':!open}">On
            </div>
            <div class="w-14 h-10 flex justify-center items-center bg-gray-300 text-black hover:bg-gray-400
                        transition-all ease-in-out duration-300
                        shadow-inner shadow-gray-500"
                 th:classappend="*{__${propertyName}__}?'':'-translate-x-full'"
                 :class="{'-translate-x-full':!open}">Off
            </div>
        </div>
    </div>
</div>
<div th:fragment="form-buttons" class="pt-5">
    <div class="flex justify-end">
        <button type="button"
                class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            Cancel
        </button>
        <button type="submit"
                class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            Save
        </button>
    </div>
</div>
</body>
</html>
